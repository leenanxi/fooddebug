Y.use("node",function(){window.helper=Singleton.create({ready:function(){Y.on("domready",function(){this.bindUI()},this)},bindUI:function(){this.dataToggleBody();this.dataToggleEl();this.dataLightbox();Y.one(window).on("resize",this.syncUI,this)},syncUI:function(){helper.debounce(function(){helper.imgLoad()})},radioCheckboxes:function(a,c,b){a?Y.one(a)?(c=c||'[type\x3d"checkbox"]',b=b||"label[for]",1<Y.one(a).all(c).size()&&Y.one(a).delegate("click",function(b){b.preventDefault();b=Y.one("#"+b.currentTarget.getAttribute("for"));
!1===b.get("checked")?(Y.one(a).all(c).each(function(a){a.set("checked",!1)}),b.set("checked",!0)):b.set("checked",!1)},b)):console.warn("radioCheckboxes: No wrapper found on page."):console.warn("radioCheckboxes: Must define a wrapper.")},folderRedirect:function(a,c){a=a||"label[for]";c=c||"body";Y.one(a)&&Y.one(c).delegate("click",function(a){a.preventDefault();(a=a.currentTarget.getData("href"))?window.location=a:console.warn("folderRedirect: You must add a data-href attribute to the label.")},
a)},dataLightbox:function(){var a={};Y.all("[data-lightbox]").each(function(c){var b=c.getAttribute("data-lightbox");a[b]=a[b]||[];a[b].push({content:c,meta:c.getAttribute("alt")});c.on("click",function(d){d.halt();(new Y.Squarespace.Lightbox2({set:a[b],currentSetIndex:Y.all("[data-lightbox]").indexOf(c),controls:{previous:!0,next:!0}})).render()})})},dataToggleBody:function(){Y.one("body").delegate("click",function(a){Y.one("body").toggleClass(a.currentTarget.getData("toggle-body"))},"[data-toggle-body]")},
dataToggleEl:function(){Y.one("body").delegate("click",function(a){a=a.currentTarget;a.toggleClass(a.getData("toggle"))},"[data-toggle]")},debounce:function(a,c,b){c=c||100;b=b||Site;a&&(this._timeout&&this._timeout.cancel(),this._timeout=Y.later(c,b,a))},imgLoad:function(a){console.log("t");a=a||"img[data-src]";Y.one(a)&&Y.all(a).each(function(a){ImageLoader.load(a)})},scrollAnchors:function(a){if(!history.pushState)return!1;a=a||'a[href^\x3d"#"]';if("string"!=typeof a)return console.error("helpers.js: scrollAnchors argument must be a string."),
!1;Y.all(a).each(function(a){if(a.hasAttribute("href")){if("#"==!a.getAttribute("href").substring(0,1))return!1}else return!1});Y.one("body").delegate("click",function(a){a.halt();a=a.target.getAttribute("href");Y.one(a)&&this.smoothScrollTo(Y.one(a).getY());history.pushState({},a,a)},a,this)},smoothScrollTo:function(a){if(!a)return console.warn("helpers.js: smoothScrollTo must have a scroll point passed to it."),!1;if(!Y.Lang.isNumber(a))try{a=parseInt(a)}catch(c){return console.warn("helpers.js: scrollTo was passed an invalid argument."),
!1}var b=new Y.Anim({node:Y.one(Y.UA.gecko||Y.UA.ie||navigator.userAgent.match(/Trident.*rv.11\./)?"html":"body"),to:{scrollTop:a},duration:0.4,easing:"easeOut"});b.run();b.on("end",function(){b.destroy()})}})});
Y.use("node",function(a){window.showOnScroll=Singleton.create({ready:function(){a.on("domready",function(){a.one(".collection-type-index")&&(this.initializer(),this.bindUI(),this.syncUI())},this)},initializer:function(){a.one(".touch-styles")||((this.el=a.one(".show-on-scroll"))?(this.elOffset=a.one(this.el.getData("offset-el")),this.offsetBehavior=this.el.getData("offset-behavior")||"top",this.elOffset?(a.one("body").prepend(a.Node.create('\x3cdiv class\x3d"show-on-scroll-wrapper" id\x3d"showOnScrollWrapper"\x3e\x3c/div\x3e')),
this.wrapper=a.one("#showOnScrollWrapper"),this.wrapper.setHTML(this.el._node.outerHTML)):console.warn("No show on scroll offset element found.")):console.warn("No show on scroll element found."))},bindUI:function(){this.scrollEvents();a.one(window).on("resize",function(){this.syncUI()},this)},syncUI:function(){this.getVariables()},getVariables:function(){this.navShowPosition="bottom"==this.offsetBehavior?this.elOffset.getY()+this.elOffset.get("offsetHeight"):this.elOffset.getY()},scrollEvents:function(){this.scrolling=
!1;a.one(window).on("scroll",function(){!1===this.scrolling&&(this.scrolling=!0,this.scrollLogic(),helper.debounce(function(){this.scrolling=!1},300,this))},this)},scrollLogic:function(){window.scrollY>this.navShowPosition?this.wrapper.addClass("show"):this.wrapper.removeClass("show");a.later(100,this,function(){!0===this.scrolling&&window.requestAnimationFrame(a.bind(function(){this.scrollLogic()},this))})}})});